# Poem Shorts - ä¸­å›½å¤å…¸è¯—è¯çŸ­è§†é¢‘ç”Ÿæˆé¡¹ç›®

## é¡¹ç›®æ¦‚è¿°

Poem Shorts æ˜¯ä¸€ä¸ªåŸºäº n8n å·¥ä½œæµçš„è‡ªåŠ¨åŒ–ç³»ç»Ÿï¼Œèƒ½å¤Ÿå°†ä¸­å›½å¤å…¸è¯—è¯è‡ªåŠ¨è½¬åŒ–ä¸ºçŸ­è§†é¢‘å†…å®¹ã€‚é¡¹ç›®é€šè¿‡ AI æŠ€æœ¯ç”Ÿæˆè§†é¢‘è„šæœ¬ã€å›¾ç‰‡ç´ æï¼Œå¹¶æœ€ç»ˆåˆæˆå…·æœ‰ä¸“ä¸šæ•ˆæœçš„çŸ­è§†é¢‘ã€‚

## åŠŸèƒ½ç‰¹ç‚¹

- ğŸ“ **æ™ºèƒ½è„šæœ¬ç”Ÿæˆ**ï¼šä½¿ç”¨ DeepSeek AI ç”Ÿæˆè¯—è¯åˆ†é•œè„šæœ¬
- ğŸ¨ **AI å›¾ç‰‡ç”Ÿæˆ**ï¼šåŸºäº Gemini 2.0 ç”Ÿæˆä¸­å›½å¤é£å¡é€šé£æ ¼çš„å›¾ç‰‡
- ğŸ¬ **è‡ªåŠ¨è§†é¢‘åˆæˆ**ï¼šé€šè¿‡ MoneyPrinterPro API ç”Ÿæˆä¸“ä¸šçŸ­è§†é¢‘
- ğŸ“Š **äº‘ç«¯é›†æˆ**ï¼šä¸ Google Driveã€Google Sheets æ— ç¼é›†æˆ
- ğŸš€ **å…¨è‡ªåŠ¨åŒ–**ï¼šä»è¯—è¯è¾“å…¥åˆ°è§†é¢‘å‘å¸ƒçš„å…¨æµç¨‹è‡ªåŠ¨åŒ–

## æŠ€æœ¯æ¶æ„

### æ ¸å¿ƒç»„ä»¶

1. **AI æ¨¡å‹æœåŠ¡**DeepSeek V3.1 (é€šè¿‡ OpenRouter)ï¼šè„šæœ¬å’Œæç¤ºè¯ç”ŸæˆGoogle Gemini 2.0 Flashï¼šå›¾ç‰‡ç”ŸæˆMoneyPrinterProï¼šè§†é¢‘åˆæˆ
2. **äº‘æœåŠ¡é›†æˆ**Google Driveï¼šæ–‡ä»¶å­˜å‚¨å’Œç®¡ç†Google Sheetsï¼šæ•°æ®è®°å½•å’Œè¿½è¸ªYouTubeï¼šè§†é¢‘å‘å¸ƒå¹³å°
3. **å·¥ä½œæµå¼•æ“**n8nï¼šè‡ªåŠ¨åŒ–å·¥ä½œæµç¼–æ’

## å·¥ä½œæµç¨‹

### ç¬¬ä¸€é˜¶æ®µï¼šå›¾ç‰‡èµ„æºç”Ÿæˆ

1. **ç”¨æˆ·è¾“å…¥**è¯—è¯æ ‡é¢˜ã€ä½œè€…ã€ç±»å‹ã€æ–‡ä»¶å¤¹åç§°
2. **å†…å®¹å‡†å¤‡**è·å–è¯—è¯åŸæ–‡å†…å®¹åˆ›å»ºæœ¬åœ°å­˜å‚¨æ–‡ä»¶å¤¹
3. **è„šæœ¬ç”Ÿæˆ**ç”Ÿæˆè§†é¢‘åˆ†é•œè„šæœ¬ä¿å­˜åˆ° Google Sheets
4. **å›¾ç‰‡æç¤ºè¯ç”Ÿæˆ**åŸºäºåˆ†é•œè„šæœ¬ç”Ÿæˆä¸­è‹±æ–‡å›¾ç‰‡æç¤ºè¯æå–è‹±æ–‡æç¤ºè¯ç”¨äºå›¾ç‰‡ç”Ÿæˆ
5. **å›¾ç‰‡ç”Ÿæˆ**è°ƒç”¨ Gemini API ç”Ÿæˆå›¾ç‰‡æŒ‰é¡ºåºå‘½åå¹¶ä¿å­˜åˆ°æœ¬åœ°å’Œ Google Drive

### ç¬¬äºŒé˜¶æ®µï¼šè§†é¢‘ç”Ÿæˆ

1. **èµ„æºæ£€æŸ¥**æ‰«ææœ¬åœ°å›¾ç‰‡æ–‡ä»¶æ„å»ºè§†é¢‘ç´ æåˆ—è¡¨
2. **è§†é¢‘åˆæˆ**è°ƒç”¨ MoneyPrinterPro APIç›‘æ§ç”Ÿæˆè¿›åº¦ä¸‹è½½æœ€ç»ˆè§†é¢‘æ–‡ä»¶
3. **å‘å¸ƒå‡†å¤‡**ç”Ÿæˆè§†é¢‘æè¿°å‡†å¤‡ YouTube ä¸Šä¼ 

## å®‰è£…å’Œé…ç½®

### å‰ç½®è¦æ±‚

- n8n å®ä¾‹ï¼ˆæ”¯æŒèŠ‚ç‚¹æ‰§è¡Œï¼‰
- Docker ç¯å¢ƒï¼ˆç”¨äºæœ¬åœ°æ–‡ä»¶å­˜å‚¨ï¼‰
- ç›¸å…³ API å¯†é’¥ï¼šOpenRouter API å¯†é’¥Google Cloud å‡­è¯ï¼ˆDriveã€Sheetsã€YouTubeï¼‰MoneyPrinterPro API è®¿é—®

### ç¯å¢ƒé…ç½®

1. **å¯¼å…¥å·¥ä½œæµ**å°†æä¾›çš„ JSON æ–‡ä»¶å¯¼å…¥ n8n
2. **é…ç½®å‡­è¯**è®¾ç½® Google OAuth2 å‡­è¯é…ç½® OpenRouter API å¯†é’¥è®¾ç½® Gemini API è®¿é—®
3. **ç›®å½•æƒé™**ç¡®ä¿ `/mnt/`ç›®å½•æœ‰å†™æƒé™é…ç½®æ­£ç¡®çš„æ–‡ä»¶è·¯å¾„æ˜ å°„

## ä½¿ç”¨è¯´æ˜

### å¯åŠ¨å·¥ä½œæµ

1. é€šè¿‡è¡¨å•è§¦å‘å™¨æä¾›è¾“å…¥ï¼šè¯—è¯æ ‡é¢˜ï¼ˆå¦‚ï¼š"æ—©å‘ç™½å¸åŸ"ï¼‰ä½œè€…ï¼ˆå¦‚ï¼š"æç™½"ï¼‰ç±»å‹ï¼ˆå¦‚ï¼š"å”è¯—"ï¼‰æ–‡ä»¶å¤¹åå­—ï¼ˆç”¨äºæ–‡ä»¶ç»„ç»‡ï¼‰
2. å·¥ä½œæµå°†è‡ªåŠ¨æ‰§è¡Œï¼šå›¾ç‰‡ç”Ÿæˆï¼ˆçº¦éœ€å‡ åˆ†é’Ÿï¼‰è§†é¢‘åˆæˆï¼ˆæ—¶é—´å–å†³äºè§†é¢‘é•¿åº¦ï¼‰
3. æœ€ç»ˆè¾“å‡ºï¼šæœ¬åœ°è§†é¢‘æ–‡ä»¶ (`/mnt/{æ–‡ä»¶å¤¹åå­—}/{è¯—è¯æ ‡é¢˜}.mp4`)Google Drive ä¸­çš„å›¾ç‰‡èµ„æºYouTube è§†é¢‘ï¼ˆå¦‚é…ç½®äº†ä¸Šä¼ ï¼‰

## èŠ‚ç‚¹è¯´æ˜

### å…³é”®èŠ‚ç‚¹åŠŸèƒ½

| èŠ‚ç‚¹åç§°                         | åŠŸèƒ½æè¿°        |
| -------------------------------- | --------------- |
| `On form submission`             | ç”¨æˆ·è¾“å…¥æ¥å£    |
| `PoemContent`                    | è·å–è¯—è¯åŸæ–‡    |
| `AI Generate Video Clips Prompt` | ç”Ÿæˆåˆ†é•œè„šæœ¬    |
| `AI Generate Images Prompts`     | ç”Ÿæˆå›¾ç‰‡æç¤ºè¯  |
| `Generate an image`              | Gemini å›¾ç‰‡ç”Ÿæˆ |
| `Call MoneyPrinterTurbo API`     | è§†é¢‘åˆæˆ        |
| `Upload a video`                 | YouTube ä¸Šä¼     |

### è‡ªå®šä¹‰ä»£ç èŠ‚ç‚¹

- **Extract Prompt from AI Output**ï¼šä» AI è¾“å‡ºä¸­æå–è‹±æ–‡æç¤ºè¯
- **Create Sequence Number for File Name**ï¼šç”Ÿæˆåºåˆ—åŒ–æ–‡ä»¶å
- **Create Request Body**ï¼šæ„å»ºè§†é¢‘åˆæˆè¯·æ±‚ä½“

## é…ç½®å‚æ•°

### è§†é¢‘å‚æ•°

- è§†é¢‘æ¯”ä¾‹ï¼š9:16ï¼ˆç«–å±ï¼‰
- å‰ªè¾‘æ¨¡å¼ï¼šé¡ºåºæ’­æ”¾
- è½¬åœºæ•ˆæœï¼šæ·¡å…¥æ·¡å‡º
- è¯­è¨€ï¼šä¸­æ–‡
- è¯­éŸ³ï¼šzh-CN-YunyangNeural-Male

### å›¾ç‰‡å‚æ•°

- é£æ ¼ï¼šä¸­å›½å¤é£å¡é€š
- è§†è§’ï¼šç¬¬ä¸€äººç§°èˆªæ‹
- è‰²è°ƒï¼šä»æ™¨å…‰é‡‘é»„åˆ°æ¸…æœ—ç¢§è“çš„æ¸å˜

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **å›¾ç‰‡ç”Ÿæˆå¤±è´¥**æ£€æŸ¥ Gemini API é…é¢éªŒè¯æç¤ºè¯æ ¼å¼
2. **è§†é¢‘åˆæˆé”™è¯¯**ç¡®è®¤ MoneyPrinterPro æœåŠ¡çŠ¶æ€æ£€æŸ¥å›¾ç‰‡æ–‡ä»¶è·¯å¾„
3. **æƒé™é—®é¢˜**éªŒè¯ Google API æƒé™èŒƒå›´æ£€æŸ¥æœ¬åœ°ç›®å½•æƒé™

### æ—¥å¿—æŸ¥çœ‹

- é€šè¿‡ n8n æ‰§è¡Œå†å²æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
- æ£€æŸ¥å„èŠ‚ç‚¹çš„è¾“å…¥è¾“å‡ºæ•°æ®

## æ‰©å±•å»ºè®®

1. **å¤šè¯—è¯æ‰¹é‡å¤„ç†**
2. **è‡ªå®šä¹‰è§†è§‰é£æ ¼**
3. **å¤šå¹³å°å‘å¸ƒæ”¯æŒ**
4. **è´¨é‡ä¼˜åŒ–å’Œç¼“å­˜æœºåˆ¶**

## è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œä¸ªäººä½¿ç”¨ã€‚å•†ä¸šä½¿ç”¨è¯·ç¡®ä¿éµå®ˆç›¸å…³ API çš„æœåŠ¡æ¡æ¬¾å’Œç‰ˆæƒè§„å®šã€‚

## æ”¯æŒ

å¦‚é‡åˆ°æŠ€æœ¯é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š

1. n8n å®˜æ–¹æ–‡æ¡£
2. å„ API æœåŠ¡çš„çŠ¶æ€é¡µé¢
3. å·¥ä½œæµèŠ‚ç‚¹çš„é…ç½®è¯´æ˜

------

# Poem Shorts - Classical Chinese Poetry Short Video Generator

## Project Overview

Poem Shorts is an automated n8n workflow that transforms classical Chinese poetry into engaging short videos. The system leverages AI technologies to generate video scripts, create visual assets, and produce professional-quality video content automatically.

## Key Features

- ğŸ“ **AI-Powered Script Generation**: Uses DeepSeek AI to create video storyboards
- ğŸ¨ **AI Image Generation**: Creates Chinese ancient-style cartoon images using Gemini 2.0
- ğŸ¬ **Automated Video Production**: Generates professional videos via MoneyPrinterPro API
- ğŸ“Š **Cloud Integration**: Seamless integration with Google Drive and Google Sheets
- ğŸš€ **End-to-End Automation**: Full pipeline from poetry input to video publication

## Technical Architecture

### Core Components

1. **AI Model Services**DeepSeek V3.1 (via OpenRouter): Script and prompt generationGoogle Gemini 2.0 Flash: Image generationMoneyPrinterPro: Video synthesis
2. **Cloud Services**Google Drive: File storage and managementGoogle Sheets: Data logging and trackingYouTube: Video publishing platform
3. **Workflow Engine**n8n: Automation workflow orchestration

## Workflow Process

### Phase 1: Image Asset Generation

1. **User Input**Poetry title, author, type, and folder name
2. **Content Preparation**Retrieve original poetry contentCreate local storage directory
3. **Script Generation**Generate video storyboard scriptSave to Google Sheets
4. **Image Prompt Generation**Create Chinese/English image prompts based on storyboardExtract English prompts for image generation
5. **Image Generation**Call Gemini API to generate imagesSave with sequential naming to local storage and Google Drive

### Phase 2: Video Generation

1. **Resource Validation**Scan local image filesBuild video material list
2. **Video Synthesis**Call MoneyPrinterPro APIMonitor generation progressDownload final video file
3. **Publication Preparation**Generate video descriptionPrepare for YouTube upload

## Installation & Configuration

### Prerequisites

- n8n instance (with node execution support)
- Docker environment (for local file storage)
- Required API keys:OpenRouter API keyGoogle Cloud credentials (Drive, Sheets, YouTube)MoneyPrinterPro API access

### Environment Setup

1. **Import Workflow**Import the provided JSON file into n8n
2. **Configure Credentials**Set up Google OAuth2 credentialsConfigure OpenRouter API keySet up Gemini API access
3. **Directory Permissions**Ensure write permissions for `/mnt/`directoryConfigure proper file path mappings

## Usage Instructions

### Starting the Workflow

1. Provide input via form trigger:Poetry title (e.g., "Early Departure from White Emperor City")Author (e.g., "Li Bai")Type (e.g., "Tang Poetry")Folder name (for file organization)
2. Workflow executes automatically:Image generation (takes several minutes)Video synthesis (duration depends on video length)
3. Final outputs:Local video file (`/mnt/{folder_name}/{poetry_title}.mp4`)Image assets in Google DriveYouTube video (if upload is configured)

## Node Descriptions

### Key Node Functions

| Node Name                        | Function Description             |
| -------------------------------- | -------------------------------- |
| `On form submission`             | User input interface             |
| `PoemContent`                    | Retrieve original poetry content |
| `AI Generate Video Clips Prompt` | Generate storyboard script       |
| `AI Generate Images Prompts`     | Create image prompts             |
| `Generate an image`              | Gemini image generation          |
| `Call MoneyPrinterTurbo API`     | Video synthesis                  |
| `Upload a video`                 | YouTube upload                   |

### Custom Code Nodes

- **Extract Prompt from AI Output**: Extract English prompts from AI response
- **Create Sequence Number for File Name**: Generate sequential filenames
- **Create Request Body**: Build video synthesis request payload

## Configuration Parameters

### Video Settings

- Aspect ratio: 9:16 (vertical)
- Clip mode: Sequential playback
- Transition effect: FadeIn
- Language: Chinese
- Voice: zh-CN-YunyangNeural-Male

### Image Settings

- Style: Chinese ancient cartoon
- Perspective: First-person aerial view
- Color scheme: Gradient from morning golden to clear blue

## Troubleshooting

### Common Issues

1. **Image Generation Failures**Check Gemini API quotaValidate prompt format
2. **Video Synthesis Errors**Verify MoneyPrinterPro service statusCheck image file paths
3. **Permission Problems**Validate Google API permission scopesCheck local directory permissions

### Logging

- View detailed logs through n8n execution history
- Examine input/output data for each node

## Extension Suggestions

1. **Batch Processing for Multiple Poems**
2. **Custom Visual Styles**
3. **Multi-platform Publishing Support**
4. **Quality Optimization and Caching Mechanisms**

## License

This project is for learning and personal use only. Commercial use must comply with relevant API service terms and copyright regulations.

## Support

For technical issues, please check:

1. n8n official documentation
2. API service status pages
3. Workflow node configuration guides

------

